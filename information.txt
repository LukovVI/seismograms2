Здравствуйте. 

Приветствуем вас в программе ODS (Optical Density of Seismogram) 

Программа разработана Иваном Козыревым и Виталием Луковым специально для ИВиС ДВО РАН, по всем возникающим вопросам обращаться по адресу yolamko@gmail.com 

Смысловая часть программы. 

Программа написана для рассчёта оптической плотности сейсмического сигнала, вычисляемого на основе 12 часовой сейсмограммы представленной в виде файла *.png, в реальном времени или анализа архивных сейсмограм.

Алгоритм программы. 

При нажатии клавиши "Начать мониторинг" программа принимает на входе 12 часовую сейсмограмму в формате *.png (размер может варьироваться, но в качестве тестовых данных была использована сейсмограмма со станции smk представленная службой КФГС http://emsd.ru/~ddv/smkshe.png). 
1. Алгоритм убирает 80 пикселей слева (шкала времени). 
2. После чего делит всё пространство на 6 частей, соответствующих двум часам времени каждая.
3. После этого программа считает общее количество пикселей и количество чёрных пикселей.   
4. Вычесляет долю чёрных пикселей в каждом из окон. (результат пропорционален общей сейсмической активности на приёмнике) 
5. Записывает значения в файл BD_monit_copy.xlsx
6. Каждые 10 минут программа снимает значения за последние 2 часа и выдаёт их на экран, а также записывает эти значения в файл small_BD_copy.xlsx
7. Каждые 12 часов программа скачивает файл сейсмограммы на компьютер, формируя архив. 

* дополнительно программа может сделать попытку удалить калибровочный сигнал из анализируемой области (хорошо работает при спокойной сейсмической обстановке) 

Инструкция по использованию. 

Программа не требует установки. Распакуйте архив программы в папку, откуда она будет запускаться, путь к местоположению программы должен содержать только латинские символы для корректной работы 
Пример:
C:\seismo\ODS_smk\ - программа будет работать корректно
С:\сейсмо\ODS_smk\ - программа будет работать не корректно

Если вам необходимо анализировать одновременно несколько сейсмограмм, просто продублируйте папку с программой несколько раз и запустите свою копию для каждого источника. 

Интерфейс программы

1. Адрес сейсмограммы в интернете или на сервере для анализа в реальном времени 
2. При активной галочке все полученные значения записываются в файлы exel (о структуре файлов см. пояснение ниже) 
3. При активной галочке программа делает попытку не брать в рассчёт сигнал калиброки при анализе, при высокой сейсмческой активности калибровка сливается с сигналом и программа может начать выкидывать из области анализа полезный сигнал, поэтому рекомендуется использовать только при относительно спокойном сейсмическом режиме. 
4. Путь к папке в которой создаются exel файлы с данными анализа и сохраняются сейсмограммы, по умолчанию местоположение совпадает с местоположением основного файла программы. 
5. Кнопка позволяющая выбрать определённую папку для записи результатов анализа. 
6. Кнопка запуска мониторинга. 
7. Текущее значение оптической плотности сигнала, за последние 2 часа, обнавляется каждые 10 мин. 
8. Кнопка завершающая мониторинг. 
9 График значений оптической плотности сигнаа во времени, за последние 300 мин. (при нажатии правой кнопкой на области графика, можно изменить параметры визуализации)  

Блок анализа архивных сейсмограмм
10. Выбор папки, в которой расположены архивные сейсмограммы. 
11. Выбор папки в которую записывается результат анализа.
12. Кнопка запуска анализа файлов 


Структура папки

base_monit   - папка с архивом оригинальных сейсмограмм, скачиваемых каждые 12 часов. 
final_monit  - папка с проанализированными сейсмограммами (удалённая корректировка, если соответствующая галочка была активна) 
BD_monit_DONT_TOUCH файл в который записываются значения анализа 12 часовых сейсмограмм, основной рабочий файл программы, не рекомендуется его трогать при работе программы
BD_monit_copy копия файла BD_monit_DONT_TOUCH, который можно открывать во время работы программы, если вам требуется работать с данными, мы рекомендуем скопировать данный файл в другую дирректорию. 
small_BD_DONT_TOUCH - файл в который записываются значения снимаемые каждые 10 минту 
small_BD_copy - копия файла small_BD_DONT_TOUCH, который можно открывать во время работы программы, если вам требуется работать с данными, мы рекомендуем скопировать данный файл в другую дирректорию
V0.6 - имя основного, исполняемого файла программы 


Структура файлов 

BD_monit_DONT_TOUCH и BD_monit_copy
Колонка date - отображает дату и время, когда был сохранён файл
Колонка prefix - имя сейсмостанции согласно адресу
0-2 - оптическая плотность за первые 2 часа сейсмограммы (соответственно от даты скачивания нужно вычесть 12 часов, что бы полчить абсолютное время_
Колонки 2-4, 4-6, 6-8, 8-10, 10-12 аналагично колонке 0-2 в соответствующий промежуток времени 
Колонка 0-12 общая плотность 12 часовой сейсмограммы. 

small_BD_DONT_TOUCH и small_BD_copy 
Колонка time - время взятия отсчёта системное (то которое установлено на компьютере) 
Колонка Density - оптическая плотность сигнала 
Колонка prefix - имя сейсмостанции, согласно адресу ссылки 
Колонка Correct - true - корректировка удалена, false корректировка не удаляется. 


